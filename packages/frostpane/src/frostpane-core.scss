// ============================================================================
// Frostpane Core Library
// A customizable frosted glass effect CSS library
// ============================================================================

:root {
  // Color variables
  --fp-bg-color: rgba(255, 255, 255, 0.25);
  --fp-highlight: rgba(255, 255, 255, 0.75);
  --fp-text: #ffffff;
  --fp-text-primary: #ffffff;
  --fp-text-secondary: rgba(255, 255, 255, 0.85);
  --fp-text-on-glass: rgba(0, 0, 0, 0.85);
  --fp-text-muted: rgba(0, 0, 0, 0.6);
  --fp-red: #fb4268;
  --fp-grey: #444739;

  // Spacing scale (8px base)
  --fp-space-xs: 0.25rem;   // 4px
  --fp-space-sm: 0.5rem;    // 8px
  --fp-space-md: 1rem;      // 16px
  --fp-space-lg: 1.5rem;    // 24px
  --fp-space-xl: 2rem;      // 32px
  --fp-space-2xl: 3rem;     // 48px

  // Typography scale
  --fp-text-xs: 0.75rem;    // 12px
  --fp-text-sm: 0.875rem;   // 14px
  --fp-text-base: 1rem;     // 16px
  --fp-text-lg: 1.125rem;   // 18px
  --fp-text-xl: 1.25rem;    // 20px
  --fp-text-2xl: 1.5rem;    // 24px
  --fp-text-3xl: 2rem;      // 32px
  --fp-text-4xl: 3rem;      // 48px

  // Icon sizes
  --fp-icon-sm: 1.5rem;     // 24px
  --fp-icon-md: 2rem;       // 32px
  --fp-icon-lg: 3rem;       // 48px
  --fp-icon-xl: 4rem;       // 64px

  // Glass effect - Border radius
  --fp-border-radius: 2rem;
  --fp-border-radius-rounded: 3rem;
  --fp-border-radius-small: 0.5rem;

  // Glass effect - Shadows
  --fp-shadow-color-primary: rgba(0, 0, 0, 0.2);
  --fp-shadow-color-secondary: rgba(0, 0, 0, 0.1);
  --fp-shadow-blur-primary: 6px;
  --fp-shadow-blur-secondary: 20px;
  --fp-shadow-offset-x: 0;
  --fp-shadow-offset-y: 6px;

  // Glass effect - Backdrop filter
  --fp-backdrop-blur: 4px;

  // Glass effect - Filter effects
  --fp-filter-saturate: 120%;
  --fp-filter-brightness: 1.15;

  // Glass effect - Inset highlights
  --fp-inset-highlight-offset: 1px;
  --fp-inset-highlight-blur: 0;
  --fp-inset-glow-blur: 5px;

  // Easing options
  --fp-ease-smooth: cubic-bezier(0.4, 0.0, 0.2, 1);      // Material Design
  --fp-ease-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);  // Subtle bounce
  --fp-ease-spring: cubic-bezier(0.175, 0.885, 0.32, 2.2);    // Strong bounce

  // Glass effect - Transitions
  --fp-transition-duration: 0.4s;
  --fp-transition-timing: var(--fp-ease-smooth);

  // Content spacing (using spacing scale)
  --fp-content-padding-x: var(--fp-space-lg);
  --fp-content-padding-y: var(--fp-space-sm);
  --fp-content-gap: var(--fp-space-md);

  // Interactive elements
  --fp-hover-scale: 1.1;
  --fp-active-scale: 0.95;
  --fp-transition-fast: 0.2s;
  --fp-transition-medium: 0.25s;
  --fp-transition-slow: 0.3s;

  // Breakpoints
  --fp-breakpoint-sm: 640px;
  --fp-breakpoint-md: 768px;
  --fp-breakpoint-lg: 1024px;
  --fp-breakpoint-xl: 1280px;
}

// ============================================================================
// Accessibility - Respect user motion preferences
// ============================================================================
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// ============================================================================
// Utility Classes
// ============================================================================

// Interactive scale animation for hover/active states
.interactive-scale {
  cursor: pointer;
  transition: transform var(--fp-transition-medium) ease-out,
              outline-offset 0.2s ease;

  &:hover {
    transform: scale(var(--fp-hover-scale));
  }

  &:focus-visible {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 4px;
    transform: scale(var(--fp-hover-scale));
  }

  &:active {
    transform: scale(var(--fp-active-scale));
  }
}

// Fast variant
.interactive-scale--fast {
  transition: transform var(--fp-transition-fast) ease-out,
              outline-offset 0.2s ease;

  &:hover {
    transform: scale(var(--fp-hover-scale));
  }

  &:focus-visible {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 4px;
    transform: scale(var(--fp-hover-scale));
  }

  &:active {
    transform: scale(var(--fp-active-scale));
  }
}

// Slow variant
.interactive-scale--slow {
  transition: transform var(--fp-transition-slow) ease-out,
              outline-offset 0.2s ease;

  &:hover {
    transform: scale(var(--fp-hover-scale));
  }

  &:focus-visible {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 4px;
    transform: scale(var(--fp-hover-scale));
  }

  &:active {
    transform: scale(var(--fp-active-scale));
  }
}

// ============================================================================
// Glass Container - Core Component
// ============================================================================

.glass-container {
  position: relative;
  display: flex;
  align-items: center;
  background: transparent;
  border-radius: var(--fp-border-radius);
  overflow: hidden;
  flex: 1 1 auto;
  box-shadow: var(--fp-shadow-offset-x) var(--fp-shadow-offset-y) var(--fp-shadow-blur-primary) var(--fp-shadow-color-primary),
              var(--fp-shadow-offset-x) var(--fp-shadow-offset-x) var(--fp-shadow-blur-secondary) var(--fp-shadow-color-secondary);
  color: var(--fp-text);
  transition: transform var(--fp-transition-duration) var(--fp-transition-timing),
              opacity var(--fp-transition-duration) var(--fp-transition-timing),
              box-shadow var(--fp-transition-duration) var(--fp-transition-timing);

  // Glass filter layer - backdrop blur and SVG filter effects
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 0;
    backdrop-filter: blur(var(--fp-backdrop-blur));
    filter: url(#lensFilter) saturate(var(--fp-filter-saturate)) brightness(var(--fp-filter-brightness));
  }

  // Glass overlay + specular layer - background tint and highlights
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 1;
    background: var(--fp-bg-color);
    box-shadow: inset var(--fp-inset-highlight-offset) var(--fp-inset-highlight-offset) var(--fp-inset-highlight-blur) var(--fp-highlight),
                inset 0 0 var(--fp-inset-glow-blur) var(--fp-highlight);
  }
}

// Glass container modifiers
.glass-container--rounded {
  border-radius: var(--fp-border-radius-rounded);
}

.glass-container--large {
  flex: 1 1 auto;
}

.glass-container--medium {
  flex: 1 1 auto;
  max-width: 600px;
}

.glass-container--small {
  flex: 0 1 auto;
}

// ============================================================================
// Glass Content - Content Wrapper
// ============================================================================

.glass-content {
  position: relative;
  z-index: 2; // Above ::before (0) and ::after (1)
  display: flex;
  flex: 1 1 auto;
  align-items: center;
  justify-content: space-around;
  padding: var(--fp-content-padding-y) var(--fp-content-padding-x);
  gap: var(--fp-content-gap);
  flex-wrap: wrap;
}

.glass-content__link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: transform var(--fp-transition-fast) ease-out,
              outline-offset 0.2s ease;

  i {
    font-size: var(--fp-icon-xl);
    color: var(--fp-text);
  }

  &:hover {
    transform: scale(var(--fp-hover-scale));
  }

  &:focus-visible {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 4px;
    transform: scale(var(--fp-hover-scale));
  }

  &:active {
    transform: scale(var(--fp-active-scale));
  }
}

// ============================================================================
// Form Components
// ============================================================================

.glass-input {
  width: 100%;
  padding: var(--fp-space-sm) var(--fp-space-md);
  border-radius: var(--fp-border-radius-small);
  border: 1px solid rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.1);
  color: var(--fp-text-primary);
  font-size: var(--fp-text-base);
  font-family: inherit;
  transition: border-color 0.2s ease,
              background 0.2s ease,
              outline-offset 0.2s ease;

  &::placeholder {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    background: rgba(255, 255, 255, 0.12);
  }

  &:focus {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 0;
    border-color: var(--fp-highlight);
    background: rgba(255, 255, 255, 0.15);
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background: rgba(255, 255, 255, 0.05);
  }
}

.glass-button {
  padding: var(--fp-space-sm) var(--fp-space-lg);
  border-radius: var(--fp-border-radius-small);
  border: none;
  background: var(--fp-red);
  color: var(--fp-text-primary);
  font-size: var(--fp-text-base);
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: transform 0.2s ease,
              opacity 0.2s ease,
              outline-offset 0.2s ease,
              box-shadow 0.2s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  &:focus-visible {
    outline: 2px solid var(--fp-highlight);
    outline-offset: 2px;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;

    &:hover {
      transform: none;
      box-shadow: none;
    }
  }
}

// Button variants
.glass-button--secondary {
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);

  &:hover {
    background: rgba(255, 255, 255, 0.3);
  }
}

.glass-button--outline {
  background: transparent;
  border: 2px solid var(--fp-highlight);

  &:hover {
    background: rgba(255, 255, 255, 0.1);
  }
}
