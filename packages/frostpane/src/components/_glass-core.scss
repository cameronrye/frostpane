// ============================================================================
// Frostpane Glass Core Components
// Core glass components: .glass-container and .glass (shared between versions)
// ============================================================================

// ============================================================================
// Glass Container - Core Component
// ============================================================================

.glass-container {
  position: relative;
  display: flex;
  align-items: center;
  background: transparent;
  border-radius: var(--fp-glass-border-radius);
  overflow: hidden;
  flex: 1 1 auto;
  box-shadow: var(--fp-glass-shadow-offset-x) var(--fp-glass-shadow-offset-y) var(--fp-glass-shadow-blur-primary) var(--fp-glass-shadow-color-primary),
              var(--fp-glass-shadow-offset-x) var(--fp-glass-shadow-offset-y) var(--fp-glass-shadow-blur-secondary) var(--fp-glass-shadow-color-secondary);
  color: inherit;
  transition: transform var(--fp-transition-duration) var(--fp-transition-timing),
              opacity var(--fp-transition-duration) var(--fp-transition-timing),
              box-shadow var(--fp-transition-duration) var(--fp-transition-timing);

  // Glass filter layer - backdrop blur and SVG filter effects
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 0;
    pointer-events: none;

    // Fallback for browsers without backdrop-filter support
    @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
      background: var(--fp-glass-bg);
      opacity: 0.9;
    }

    @supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)) {
      -webkit-backdrop-filter: blur(var(--fp-glass-blur)) saturate(var(--fp-glass-saturate)) brightness(var(--fp-glass-brightness));
      backdrop-filter: blur(var(--fp-glass-blur)) saturate(var(--fp-glass-saturate)) brightness(var(--fp-glass-brightness));
      filter: url("#lensFilter");
    }
  }

  // Glass overlay + specular layer - background tint and highlights
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 1;
    background: var(--fp-glass-bg);
    box-shadow: inset var(--fp-glass-inset-highlight-offset) var(--fp-glass-inset-highlight-offset) var(--fp-glass-inset-highlight-blur) var(--fp-glass-highlight),
                inset 0 0 var(--fp-glass-inset-glow-blur) var(--fp-glass-highlight);
  }
}

// Glass container modifiers
.glass-container--rounded {
  border-radius: var(--fp-glass-border-radius-rounded);
}

.glass-container--large {
  flex: 1 1 auto;
}

.glass-container--medium {
  flex: 1 1 auto;
  max-width: 600px;
}

.glass-container--small {
  flex: 0 1 auto;
}

// ============================================================================
// Glass - Single-Class Option (Simplified API)
// ============================================================================

.glass {
  // Combine container and content in one class for simpler usage
  position: relative;
  display: flex;
  align-items: center;
  background: transparent;
  border-radius: var(--fp-glass-border-radius);
  overflow: hidden;
  box-shadow: var(--fp-glass-shadow-offset-x) var(--fp-glass-shadow-offset-y) var(--fp-glass-shadow-blur-primary) var(--fp-glass-shadow-color-primary),
              var(--fp-glass-shadow-offset-x) var(--fp-glass-shadow-offset-y) var(--fp-glass-shadow-blur-secondary) var(--fp-glass-shadow-color-secondary);
  color: inherit;
  padding: var(--fp-content-padding-y) var(--fp-content-padding-x);
  gap: var(--fp-content-gap);
  transition: transform var(--fp-transition-duration) var(--fp-transition-timing),
              opacity var(--fp-transition-duration) var(--fp-transition-timing),
              box-shadow var(--fp-transition-duration) var(--fp-transition-timing);

  // Glass filter layer - backdrop blur and SVG filter effects
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 0;
    pointer-events: none;

    // Fallback for browsers without backdrop-filter support
    @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
      background: var(--fp-glass-bg);
      opacity: 0.9;
    }

    @supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)) {
      -webkit-backdrop-filter: blur(var(--fp-glass-blur)) saturate(var(--fp-glass-saturate)) brightness(var(--fp-glass-brightness));
      backdrop-filter: blur(var(--fp-glass-blur)) saturate(var(--fp-glass-saturate)) brightness(var(--fp-glass-brightness));
      filter: url("#lensFilter");
    }
  }

  // Glass overlay + specular layer - background tint and highlights
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    z-index: 1;
    background: var(--fp-glass-bg);
    box-shadow: inset var(--fp-glass-inset-highlight-offset) var(--fp-glass-inset-highlight-offset) var(--fp-glass-inset-highlight-blur) var(--fp-glass-highlight),
                inset 0 0 var(--fp-glass-inset-glow-blur) var(--fp-glass-highlight);
  }

  // Content should be above pseudo-elements
  > * {
    position: relative;
    z-index: 2;
  }
}

// Glass modifiers
.glass--rounded {
  border-radius: var(--fp-glass-border-radius-rounded);
}

.glass--small {
  padding: var(--fp-space-xs, 0.25rem) var(--fp-space-sm, 0.5rem);
  font-size: var(--fp-text-sm, 0.875rem);
}

.glass--large {
  padding: var(--fp-space-lg, 1.5rem) var(--fp-space-xl, 2rem);
  font-size: var(--fp-text-lg, 1.125rem);
}

